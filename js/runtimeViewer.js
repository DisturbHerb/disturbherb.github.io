var triggerError=attachErrorHandler("runtimeViewer",!0),decoder=decodeURIComponent||unescape;$(document).ready((function(){var e=null,t=!0,n=!1,r={},i=($("#runtime-wrap"),$("#runtime-header")),s=$("#runtime-list"),a=$("#runtime-details");window.refreshRuntimes=function(n){var a;n?(t=!0,function(t){try{e=$.parseJSON(t)}catch(n){return void triggerError("JSON parse error: "+n+". For runtime data: "+t)}}(decoder(n)),a=0,r={},s.empty(),$.each(e,(function(e,t){var n=null;if(t.invalid)n=$("<li>",{"class":"runtime runtime-invalid well"}).append($("<span>",{"class":"seen",text:"["+t.seen+"]"})," Invalid exception in error handler: ",$("<span>",{"class":"name",text:t.name}));else{n=$("<li>",{"class":"runtime well"}).append($("<span>",{"class":"seen",text:"["+t.seen+"]"})," In ",$("<span>",{"class":"file",text:t.file}),", line ",$("<span>",{"class":"line",text:t.line}),": ",$("<span>",{"class":"name",text:t.name})),t.desc&&n.append($("<span>",{"class":"desc",html:t.desc})),t.usr&&n.append($("<span>",{"class":"usr",html:t.usr}));var i=t.file+t.line+t.name;"undefined"!=typeof r[i]?r[i]++:r[i]=1}s.prepend(n),a++})),i.find(".total-runtimes").text(a),$("#content").nanoScroller(),t=!1):triggerError("Got no json in refreshRuntimes")},i.on("click",".refresh",(function(){t||(n&&(a.hide(),s.show(),n=!1),s.html($("<li>",{"class":"loading well",text:"Loading..."})),window.location="?action=getRuntimeData")})),s.on("click",".runtime:not(.runtime-invalid)",(function(){if(!t&&!n){n=!0;var e=$(this),i=e.find(".file").text(),o=e.find(".line").text(),l=e.find(".name").text(),d=e.find(".usr").text(),c='<h2><i class="icon-pencil"></i> Summary</h2>';c+="This runtime has occurred <strong>"+r[i+o+l]+"</strong> times.<br><br>",c+="<table><tbody>",c+="<tr><td><strong>File</strong></td><td>"+i+"</td></tr>",c+="<tr><td><strong>Line</strong></td><td>"+o+"</td></tr>",c+="<tr><td><strong>Error</strong></td><td>"+l+"</td></tr>",c+="<tr><td><strong>Usr</strong></td><td>"+d+"</td></tr>",c+="</tbody></table>",c+='<h2><i class="icon-code"></i> Description</h2>',c+="<pre>"+e.find(".desc").html()+"</pre>",a.find(".details").html(c),s.hide(),a.show(),$("#content").nanoScroller()}})),a.on("click",".back",(function(){a.hide(),s.show(),$("#content").nanoScroller(),n=!1})),window.location="?action=getRuntimeData"}));