var currentrender,categories=json;function byond(){url="?src="+srcRef,currentIsKey=!0;for(var e=0;e<arguments.length;e++)currentIsKey?url+=";":url+="=",url+=arguments[e],currentIsKey=!currentIsKey;console.log(url);var t=new XMLHttpRequest;t.open("GET",url),t.send()}var boop=function e(t){if(console.log(currentrender),t.preventDefault(),"yeet"==t.srcElement.dataset.path){for(var n=document.getElementsByClassName("items")[0],o=1,a=0;a<categories.length;a++)if(t.srcElement.textContent==categories[a].name){if(0!=n.childElementCount)for(;n.firstChild;)n.removeChild(n.firstChild);for(var r=0;r<categories[a].items.length;r++){var s=document.createElement("div"),c=document.createElement("a"),l=document.createElement("p");1==o?(s.className="link itemcolor1",l.className="creditcolor1",o=2):(s.className="link itemcolor2",l.className="creditcolor2",o=1),c.textContent=categories[a].items[r].name,c.dataset.path=categories[a].items[r].path,c.dataset.cost=categories[a].items[r].cost,c.onclick=e,s.appendChild(c),l.textContent=c.dataset.cost+"c",l.dataset.path=categories[a].items[r].path,l.dataset.cost=categories[a].items[r].cost,l.onclick=e,s.appendChild(l),n.appendChild(s)}o=1}}else{var i=t.srcElement.dataset.path;currentrender==i?byond("command","spawn","path",i,"cost",t.srcElement.dataset.cost):(currentrender=i,byond("command","render","path",i,"cost",t.srcElement.dataset.cost))}};window.onload=function(e){for(var t=document.getElementsByClassName("categories")[0],n=1,o=0;o<categories.length;o++){var a=document.createElement("div"),r=document.createElement("a");1==n?(a.className="link catcolor1",n=2):(a.className="link catcolor2",n=1),r.textContent=categories[o].name,r.dataset.path="yeet",r.onclick=boop,a.appendChild(r),t.appendChild(a)}function s(){var e=document.getElementById("preview").getBoundingClientRect();window.location="byond://winset?id="+previewID+"&type=map&parent=ClothingBooth&pos="+Math.floor(e.left)+","+Math.floor(e.top)+"&size="+Math.floor(e.width)+"x"+Math.floor(e.height)}addEventListener("unload",(function(){var e=new XMLHttpRequest;e.open("GET","winset?id=ClothingBooth."+previewID+";parent="),e.send()})),addEventListener("resize",s),addEventListener("scroll",s),s()};