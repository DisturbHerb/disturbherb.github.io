function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e,t,n){var a={dnaLoaded:!1,slotExposed:!1,slotSample:!1,setSlotExposed:function(e){var t=n("#annSlotExp");e&&!a.slotExposed?t.addClass("a-yellow-on"):a.slotExposed&&t.removeClass("a-yellow-on"),a.slotExposed=e},setSlotSample:function(e){var t=n("#annSlotSample");e&&!a.slotSample?t.addClass("a-green-on"):a.slotSample&&t.removeClass("a-green-on"),a.slotSample=e},setLoadAnn:function(e){de("#annDNALoad",e),de("#annDNANoLoad",!e),de("#annDNASplice",i&&i.isSplicing),a.dnaLoaded=e}},s="",i=null,l=0,o="123456",r={},c=!1;function p(e){n(".dataPage").hide();var t="";switch(e){case 1:s="#dpLoadSave",t="btnLoadSave";break;case 2:s="#dpManip",t="btnManip";break;case 3:s="#dpSplice1",t="btnSplice";break;case 4:s="#dpSplice2",t="btnSplice";break;case 5:s="#dpTester",t="btnTester";break;default:s="#dpWelcome",t="btnRetMain"}(e<1||e>5)&&(e=0),4!=e&&ae({setstate:1,newstate:e}),e,n("#mainMenu > .button").removeClass("button-selected"),n("#"+t).addClass("button-selected"),n(s).show()}e.setRef=function(e){o=e,ae({ackref:1})};var u=new h,d=!1;function h(e,t,n){e===undefined?this.adv=0:this.adv=e,t===undefined?this.sth=0:this.sth=t,n===undefined?this.spr=0:this.spr=n}function f(e){!function(e){if("string"==typeof e){d=!0;var t=e.split("=");2===t.length&&(y(),ae({manip:t[0],dir:t[1]},"handleManipCallback"))}}(n(e).attr("data-tsk"))}function m(e){var t=parseInt(e,16),n=1<<4*e.replace("0x","").length-1;return(t&n)>0&&(t-=(n<<1)-1),t}function b(e){e===undefined&&(e=!1),function(e,t){e===undefined&&(e=!1);t===undefined&&(t=null);n("#manipHolder .text-field").removeClass("tf-c-red");var a=t||u;for(var s in a){var i=n("#txt"+s.charAt(0).toUpperCase()+s.slice(1,3));i.hasClass("text-field")&&(i.text(a[s]),e&&a[s]!==u[s]&&pe(i,"tf-c-red")),t&&u.hasOwnProperty(s)&&(u[s]=a[s])}}(e,i?function(e){var t,n=[],a=new h;if("string"==typeof e&&e.length>24){var s;for(t=4;t<24;t+=4)s=e.substr(t,4),n.push(m(s));for(var i in t=0,a)a[i]=n[t++]}return a}(i.seq):new h)}function y(){var e=!0;d=d&&e,he("#manipHolder .button",e),e=e&&!d}r.handleManipCallback=function(e){if(null!=e){d=!1;e.mutInfo;de("#aMutAck",e.success),de("#aMutNack",!e.success),e.success||(i=null),e.success&&e.newseq&&(i.seq=e.newseq),ie(!1,!0),y()}};var S=[],v=[],x=0,w=0,C="",k="",T="";function q(e,t){this.seq=e,this.certainty=null!=t?Math.min(100,Math.max(100*t,0)):null,this.getColour=function(){var e=function(e){return 1===(e=Math.round(e).toString(16)).length?"0"+e:e},t=255*(100-this.certainty)/100;return g=255*this.certainty/100,"#"+e(t)+e(g)+"00"}}function A(){ae({showknown:1})}function E(e,t){S.length>=5||(S.push(new q(e)),H("#currAnalysis",S),N(),"undefined"!==t&&t>=0&&ae({analysisappend:t}))}function D(e){S.length>0&&(S=[],H("#currAnalysis",null),N(),e||ae({analysisclear:1}))}function P(e){if(!(S.length>=5)){var t=n(e).text(),a=n(e).index();n(e).remove(),E(t,a)}}function M(e){switch(e.id){case"btnAnaDispKno":A();break;case"btnClrAnalysisCurr":D();break;case"btnAnalysisLoad":!function(){if(i){var e=[],t=i.seq;t=(t=t.slice(t.search(/[\w\d]{3}\|\|/))).replace(/\|/g,"");for(var n=0;n<t.length;n+=3)e.push(t.slice(n,n+3));i=null,ae({analysisdestroy:1}),I(e),ie()}}();break;case"btnAnalysisDoTest":!function(){for(var e="",t=0;t<S.length;t++)e+=S[t].seq;var n={};n.analysisdo=e,ae(n,"handleAnalysisTestCallback")}()}}function L(e){if(de("#annErrNack",!e.valid),e.valid){v=[],x=e.stable,w=e.trans,C=e.stableType,k=e.transGood,T=e.transBad;var t=e.seqs,n=e.conf;if(t.length===n.length)for(var a=Math.min(t.length,5),s=0;s<a;s++)v.push(new q(t[s],n[s]));else for(s=0;s<t.length;s++)v.push(new q(t[s]));x<0&&!e.noclear&&D(!0),H("#prevAnalysis",v),N()}else D(!0),ae({analysisupdate:1})}function H(e,t){if(n(e+" .text-field").text(""),t)for(var a=0;a<t.length;a++){var s=t[a],i=s.seq;null!==s.certainty&&(i="<span style='color:"+s.getColour()+";'>"+i+"</span>"),n(e+a).html(i)}}function _(e,t){return n(e+" .text-field").text(""),n(e).html("<span>"+t+"</span>"),n(e).hasClass("a-green-on")?n(e).removeClass("a-green-on"):n(e).hasClass("a-red-on")&&n(e).removeClass("a-red-on"),"Good"==t?pe(e,"a-green-on"):"Bad"==t&&pe(e,"a-red-on"),0}function N(){de("#annStableYes",1==x),de("#annStableNo",-1==x),de("#annTransYes",1==w),de("#annTransNo",-1==w),_("#stableType",C),_("#transTypesGood",k),_("#transTypesBad",T);var e=!i||i.isSplicing;de("#annErrSample",e),he("#btnAnalysisLoad",!e),de("#annErrBuffer",e=S.length>=5),he("#analyzeComponents .button",!e),de("#annErrData",e=0===S.length),he("#btnAnalysisDoTest",!e)}function I(e){var t=n("#analyzeComponents");if(t.empty(),"object"===_typeof(e)){for(var a=0;a<e.length;a++)n("<div>",{"class":"button btn-tinyish",id:"anaComp"+a}).appendTo(t).text(e[a]);n("#analyzeComponents .button").click((function(){oe(this,P)}))}}r.handleAnalysisTestCallback=L;var O=[],z=[];function X(e,t){t===undefined&&(t=!1);var n,a=l;l=e,a>0&&(z[a-1].exposed=0,B(a)),e>0?(z[e-1].exposed=1,B(e),n={expose:e}):n={lock:1},t||a==l||ae(n),re(),y(),te()}function U(e,t,n,a){e===undefined?this.seq=null:this.seq=e,t===undefined?this.pathogenName=null:this.pathogenName=t,n===undefined?this.pathogenType=null:this.pathogenType=n,a===undefined?this.isSplicing=null:this.isSplicing=a}function j(e){i?(n("#txtPName").text(i.pathogenName),n("#txtPType").text(i.pathogenType),n("#txtPSeq").text(i.seq),n("#txtStag").text(i.pathogenStages),n("#txtSymp").text(i.pathogenSymptomaticity),n("#txtSupCode").text(i.pathogenSupCode),n("#txtCap").text(-1==i.pathogenCap?"âˆž":i.pathogenCap),n("#txtMaxStats").text(i.pathogenMaxStats)):(n("#txtPName").text(""),n("#txtPType").text(""),n("#txtPSeq").text(""),n("#txtStag").text(""),n("#txtSymp").text(""),n("#txtSupCode").text(""),n("#txtCap").text(""),n("#txtMaxStats").text("")),a.setLoadAnn(i),e||function(){for(var e=1;e<=O.length;e++)B(e)}()}function B(e){O[e-1];var t=z[e-1];null==t&&(t=z[e-1]=new U),null==t.seq?(de("#annDnaEmp"+e,!0),n("#dnaSequence"+e).text(""),he("#btnDnaClear"+e,!1)):(de("#annDnaEmp"+e,!1),n("#dnaSequence"+e).text(t.seq),he("#btnDnaClear"+e,!0)),null!==t.seq||i&&!i.isSplicing?he("#btnDnaXchg"+e,!0):he("#btnDnaXchg"+e,!1),i&&i.isSplicing?he("#btnDnaSlotExpose"+e,!1):e==l?(de("#annDnaExp"+e,!0),he("#btnDnaSlotExpose"+e,!1),re()):(de("#annDnaExp"+e,!1),he("#btnDnaSlotExpose"+e,!0)),ee(e)}n.fn.draggablePointer=function(){var t=this,a="draggable_"+(Math.random()+"").replace(".",""),s="mousemove."+a,i="mouseup."+a,l=n(e),o=-Number.MAX_VALUE,r=Number.MAX_VALUE,c=t.prev(),p=t.next(),u=t.parent(),d=u.offset().left+50,h=u.offset().left+u.outerWidth()-50,f=u[0].scrollWidth-u[0].clientWidth,m=!1,b="left";function g(e,t,n){m&&!n||e!==b||(m=!0,u.animate({scrollLeft:"+="+("left"===e?"-":"")+"15px"},50,(function(){v(),x(t),w(t),m&&g(e,t,!0)})))}function y(e){e.length?e.prev(".left-ptr").length?o=-Number.MAX_VALUE:(o=e.offset().left+e.width()/2,c=e):o=-Number.MAX_VALUE}function S(e){e.length?e.next(".right-ptr").length?r=Number.MAX_VALUE:(r=e.offset().left+e.width()/2,p=e):r=Number.MAX_VALUE}function v(){y(t.prev()),S(t.next())}function x(e){for(var n=!1;e<o;)y(c.prev()),n=!0;n&&(t.insertBefore(o===-Number.MAX_VALUE?c:c.next()),S(t.next()))}function w(e){for(var n=!1;e>r;)S(p.next()),n=!0;n&&(t.insertAfter(r===Number.MAX_VALUE?p:p.prev()),y(t.prev()))}return t.mousedown((function(e){e.preventDefault(),n("body").addClass("dragging"),v(),l.on(s,(function(e){e.preventDefault(),e.stopPropagation(),u.scrollLeft()>0&&e.pageX<d?g(b="left",e.pageX):u.scrollLeft()<f&&e.pageX>h?g(b="right",e.pageX):(x(e.pageX),w(e.pageX),m=!1)})),l.on(i,(function(){n("body").removeClass("dragging"),m=!1,l.off(s+" "+i),function(e){var t=0,n=0;e.is(".left-ptr")?(t=e.index(),n=e.siblings(".right-ptr").index()-2):(t=e.siblings(".left-ptr").index(),n=e.index()-2);Y(t,n,"txtSpliceTarget"===e.parent().attr("id"))}(t)}))})),this};var F=0;function V(e){var t=F;F=e,t>0&&ee(t),F>0&&ee(F),ae(0===e?{cancel:1}:{splice:e}),te()}function R(){var e=z[F-1];l>0||null==e.seq||!i||(e,z[F-1]=new U,F=0,i.isSplicing=!0,ae({beginsplice:1}),ie(),p(4),ce())}function G(e,t){var a=n(e);if(a.empty(),"string"==typeof t){for(var s=[],i=0;i<t.length;){var l="";"|"===t[i]?(l="|",i+=1):i+3<=t.length&&(l=t.slice(i,i+3),i+=3),s.push('<span class="sequence">'+l+"</span>")}s.push('<span class="left-ptr"></span>'),s.push('<span class="right-ptr"></span>'),a.append(s.join("")),n(".sequence",a).click((function(){var e,t;Y(t=n(e=this).index()-n(e).prevAll(".left-ptr, .right-ptr").length,t,"txtSpliceTarget"===n(e).parent().attr("id"))})),n(".left-ptr, .right-ptr",a).each((function(){n(this).draggablePointer()}))}}function W(e,t,a){var s,l=n(".sequence",a);if(e>=0&&t>=0&&e<l.length&&t<l.length&&e<=t){l.removeClass("splice-selected"),l.slice(e,t+1).addClass("splice-selected");var o=n(".left-ptr",a).detach(),r=n(".right-ptr",a).detach(),c=a.children().get(e),p=a.children().get(t);o.insertBefore(c),r.insertAfter(p)}he("#btnSpliceFinish",s=null!=i&&i.isSplicing),he("#spliceTargetField .button",s&&n("#txtSpliceTarget .sequence").length>1),de("#annSpliceTargetEmpty",n("#txtSpliceTarget .sequence").length<=0),he("#spliceSourceField .button",s&&n("#txtSpliceSource .sequence").length>1),de("#annSpliceSourceEmpty",n("#txtSpliceSource .sequence").length<=0),he("#spliceActions .button[dir!='0']",s&&n("#txtSpliceSource .splice-selected").length>0),he("#spliceActions .button[dir='0']",s&&n("#txtSpliceTarget .splice-selected").length>0)}function Y(e,t,n){var a={splicesel:1};a.lptr_index=e,a.rptr_index=t,n&&(a.target=1),ae(a)}function J(e){var t=n(e).closest(".dna-slot").attr("data-id");if(null!=t&&"btnSpliceSource"===e.id.slice(0,e.id.length-t.toString().length))V(t),X(0),R()}function K(e){switch(e.id){case"btnSpliceBegin":R();break;case"btnSpliceCancel":V(0)}}function Q(e){var t,a,s,i,l=n(e).closest(".splice-sequence"),o=n(e).attr("dir");a=o,s=n(".left-ptr",t=l).index(),i=n(".right-ptr",t).index()-2,Y(s,i+=a/=Math.abs(a),"spliceTargetField"===t.attr("id"))}function Z(e){!function(e){Math.min(Math.max(parseInt(e),-1),1);var t=n("#txtSpliceSource").children(".sequence.splice-selected"),a=n("#txtSpliceTarget").children(".sequence.splice-selected"),s={splicemod:1};s.direction=e,s.s_index=t.first().index()-1,s.t_index=e>0?a.last().index()-1:a.first().index()-1,s.s_len=t.length,s.t_len=a.length,ae(s,"setUIState")}(n(e).attr("dir"))}function $(e){ae({splicefinish:1},"handleSpliceCompletionCallback")}function ee(e){var t=z[e-1];null==t&&(t=z[e-1]=new U),null==t.seq?(n("#txtSpliceSeq"+e).text(""),F==e&&(F=0)):n("#txtSpliceSeq"+e).text(t.seq),de("#annSpliceSource"+e,e==F),he("#btnSpliceLoad"+e,null!=t.seq),he("#btnSpliceSource"+e,e!==F&&null!=t.seq)}function te(){var e=l>0,t=F>0&&null!=z[F-1].seq,n=null!=i;de("#annSpliceStatExp",e),de("#annSpliceStatSource",t),de("#annSpliceStatTarget",n),he("#btnSpliceBegin",!e&&t&&n)}function ne(e){if(c=!0,e.hasOwnProperty("actPage")&&p(e.actPage),e.hasOwnProperty("loadedDna")&&(i=e.loadedDna,ie(cancGlobalUpdate=!0)),e.hasOwnProperty("dnaDetails")&&"object"===_typeof(e.dnaDetails))for(var t=0;t<e.dnaDetails.length;t++){var a=e.dnaDetails[t];a||(a=new U),z[t]=a,B(t+1)}if(e.hasOwnProperty("exposed")&&X(e.exposed,!0),e.hasOwnProperty("splice")){var s,l=e.splice;if(l.hasOwnProperty("source")||l.hasOwnProperty("target")){var o=null;l.source&&(o=l.source);var r=null;l.target&&(r=l.target),function(e,t){G("#txtSpliceTarget",e),G("#txtSpliceSource",t),de("#spliceFinalButtons > .annunciator",!1),de("#annPredSuccess",!0)}(r,o)}if(l.hasOwnProperty("selected")&&V(l.selected),l.hasOwnProperty("pred")&&(de("#annPredSuccess",1&(u=l.pred)),de("#annPredUnk",2&u),de("#annPredFail",4&u)),l.hasOwnProperty("selSource"))W((s=l.selSource).lptr_index-1,s.rptr_index-1,n("#txtSpliceSource"));if(l.hasOwnProperty("selTarget"))W((s=l.selTarget).lptr_index-1,s.rptr_index-1,n("#txtSpliceTarget"))}var u;if(e.hasOwnProperty("analysis")){var d=e.analysis;if(d.hasOwnProperty("curr")){D(!0);for(t=0;t<d.curr.length&&t<15;t+=3)E(d.curr.slice(t,t+3))}d.hasOwnProperty("predeffect")&&n(".txtPredEffect").text(Math.round(100*d.predeffect)/100+" %"),d.hasOwnProperty("buttons")&&function(e){for(var t=[],n=0;n<e.length;n+=3)t.push(e.slice(n,n+3));I(t)}(d.buttons),d.hasOwnProperty("prev")&&(d.prev.noclear=!0,L(d.prev)),N()}c=!1}function ae(t,n){if(!c&&"object"!=!_typeof(t)){var a=[];for(var s in t)a.push(encodeURI(s)+"="+encodeURI(t[s]));var i="?src="+o+";"+a.join(";");e.location=i}}function se(){l>0&&(ae({eject:1}),z[l-1]=new U,B(l),re())}function ie(e,t){e===undefined&&(e=!1),t===undefined&&(t=!1),j(e),b(t),y(),N(),te(),ce()}function le(e){switch(e.id){case"btnCloseSlot":X(0);break;case"btnEjectSample":X(0),se(),X(0)}}function oe(e,t){return n(e).hasClass("button-disabled")?0:(n(e).addClass("button-selected"),setTimeout((function(){n(e).removeClass("button-selected")}),50),t&&t(e),1)}function re(){var e=z[l-1];l>0?(de("#annSlotExp",!0),he("#btnCloseSlot",!0),n("#txtExpSlot").text(l.toString())):(de("#annSlotExp",!1),he("#btnCloseSlot",!1),n("#txtExpSlot").text("0")),e&&null!==e.seq?(de("#annSlotSample",!0),he("#btnEjectSample",!0)):(de("#annSlotSample",!1),he("#btnEjectSample",!1))}function ce(){ue()?(he("#mainMenu > .button",!1),p(4),n("#mainMenu > .button").removeClass("button-selected"),he("#btnSplice",!0),n("#btnSplice").addClass("button-selected")):he("#mainMenu > .button",!0)}function pe(e,t){n(e).hasClass(t)||n(e).addClass(t)}function ue(){return i&&i.isSplicing}function de(e,t){var a=n(e);if(!a.hasClass("annunciator"))return 1;var s="red";return a.hasClass("a-green")?s="green":a.hasClass("a-yellow")&&(s="yellow"),t?pe(a,"a-"+s+"-on"):a.removeClass("a-"+s+"-on"),0}function he(e,t){var a=n(e);if(!a.hasClass("button"))return 1;t?a.removeClass("button-disabled"):pe(a,"button-disabled")}r.handleSpliceCompletionCallback=function(e){de("#annSpliceSuccess",e.success),de("#annSpliceFail",!e.success),e.success?(i.seq=e.newseq,i.isSplicing=!1):i=null,z[F-1]=new U,F=0,p(1),ie(),ce()},r.setUIState=ne,e.receiveData=function(e,t){de("#annSynch",!1),r[e]&&(t=JSON.parse(t),r[e](t))},n(t).ready((function(){n("#mainMenu > .button").on("click",(function(){n(this).hasClass("button-disabled")||function(e){if(n("#"+e).hasClass("button-disabled"))return;if(!ue())switch(e){case"btnManip":p(2);break;case"btnSplice":p(3);break;case"btnTester":p(5);break;case"btnLoadSave":p(1);break;case"btnRetMain":p(0)}}(this.id)})),n("#btnCloseSlot, #btnEjectSample").click((function(){oe(this,le)})),n("#btnClrAnalysisCurr, #btnAnalysisLoad, #btnAnalysisDoTest").click((function(){oe(this,M)})),n(".display-known").click((function(){oe(this,A)})),n("#manipHolder .button").on("click",(function(){oe(this,f)})),n("#spliceButtons .button").click((function(){oe(this,K)})),n(".btn-seq-off").click((function(){oe(this,Q)})),n("#spliceActions .button").click((function(){oe(this,Z)})),n("#btnSpliceFinish").click((function(){oe(this,$)})),n("#btnSpliceFinish").click((function(){oe(this,$)})),n(".helpTextItem").mouseenter((function(){!function(e){switch(e.id){case"helpAdvSpeed":n("#manipHelp").html("Advance Speed determines how quickly your pathogen will advance through its stages.");break;case"helpSupThreshold":n("#manipHelp").html("Suppression Threshold determines how hard your pathogen is to suppress. Higher values will require more of the suppressant chem or higher external suppression factors.");break;case"helpSpread":n("#manipHelp").html("Spread determines how easily your pathogen will spread. How this expresses itself depends on the symptoms, for instance, a symptom that spreads via pathogen clouds might make clouds more often, while a symptom that spreads on hugs might have a higher chance per hug.");break;case"helpStages":n("#manipHelp").html("This determines how many stages your pathogen can go through. This largely depends on the microbody, though rarely a pathogen can mutate to have less or more stages. This ranges from 1-5. At higher stages a pathogen's symptoms will generally have stronger effects. Different microbody types also trigger their symptoms at different rates depending on the stage.");break;case"helpSymptomaticity":n("#manipHelp").html("If this is 0 your pathogen will not trigger its symptoms.");break;case"helpSupCode":n("#manipHelp").html("This code determines what the pathogen is supressed by. If you see two pathogens with the same code, you know that they will have the same suppressant.");break;case"helpCapacity":n("#manipHelp").html("This determines how many symptom segments you can splice onto a pathogen without it collapsing. For instance, a tier 5 symptom would cost 5 capacity, since it is made of 5 segments.");break;case"helpMaxStats":n("#manipHelp").html("This determines the total amount of points that can be spread among the various stats like Advance Rate, Suppression Threshold, and Spread.");break;case"btnClrAnalysisCurr":n("#analyzerHelp").html("Clear the currently assembled sequence of segments in Current Analysis");break;case"annStableLb":case"annStableYes":case"annStableNo":n("#analyzerHelp").html("Shows if the last tested sequence of segments is stable. If it is stable, that means that it is a valid symptom that you can use in a pathogen!");break;case"annTransLb":case"annTransYes":case"annTransNo":n("#analyzerHelp").html("Shows if the last tested sequence of segments is transient. If it is transient, that means that there is at least one valid symptom that starts with this sequence, but you will need to add more segments at the end to find it!");break;case"transTypesGood":n("#analyzerHelp").html("If the last analyzed sequence of segments was transient, this shows you how many of the symptoms that start with it are considered beneficial to humans.");break;case"transTypesBad":n("#analyzerHelp").html("If the last analyzed sequence of segments was transient, this shows you how many of the symptoms that start with it are considered harmful to humans.");break;case"stableType":n("#analyzerHelp").html("If the last analyzed sequence of segments was stable, this shows you if it was a symptom that is considered beneficial or harmful to humans.");break;case"btnAnalysisLoad":n("#analyzerHelp").html("This will destroy your currently loaded pathogen and give you its symptom segments to use for building sequences and analyzing them. Probably do not do this if you do not have a backup of your pathogen!");break;case"btnAnalysisDoTest":n("#analyzerHelp").html("Test the currently assembled sequence of segments to find out if it is stable and/or transient. If it turns out to be stable, you will keep it and can experiment further, but if not those segments will be lost.");break;case"knownAnalyzer":n("#analyzerHelp").html("Shows a list of sequences of segments you have already tried and whether or not they were stable and/or transient.")}}(this)})),n(".helpTextItem").mouseleave((function(){n("#manipHelp").html(""),n("#analyzerHelp").html("")})),p(0),function(e){O=[],n("#dnaSlotHolder").empty();for(var t=null,a=null,s=1;s<=e;s++)t=n("<div>",{id:"dnaSlot"+s,"class":"dna-slot","data-id":s}),a=n("<div></div>",{"class":"noborder"}).appendTo(t),n("<div>",{id:"btnDnaXchg"+s,"class":"button btn-small"}).appendTo(a).text("LOAD"),n("<div>",{id:"btnDnaClear"+s,"class":"button btn-small"}).appendTo(a).text("DISCARD"),n("<div>",{id:"btnDnaEject"+s,"class":"button btn-small"}).appendTo(a).text("EJECT"),n("<div>",{id:"btnSpliceSource"+s,"class":"button btn-small"}).appendTo(a).text("SPLICE"),a=n("<div></div>",{"class":"noborder"}).appendTo(t),n("<div>",{id:"dnaSequence"+s,"class":"text-field tf-long"}).appendTo(a),t.appendTo("#dnaSlotHolder"),O.push(t);n(".dna-slot .button").on("click",(function(){!function(e,t,n){if(!oe(n))return;switch(t.slice(0,t.length-e.toString().length)){case"btnDnaXchg":!function(e){var t=z[e-1].seq;i&&t?function(e){var t=e-1,n=i,a=z[t];temp=n,n&&a.seq&&(ae({exchange:e}),i=a,z[t]=temp);ie(!0),B(e),X(0)}(e):i?function(e){var t=e-1,n=z[t];i&&!n.seq&&(ae({save:e}),z[t]=i,i=null,ie(),B(e))}(e):t&&function(e){var t=e-1,n=z[t];O[t];null===i&&n.seq&&(ae({load:e}),i=n,z[t]=new U,ie());X(0)}(e)}(e);break;case"btnDnaClear":!function(e){ae({remove:e}),z[e-1]=new U,B(e)}(e);break;case"btnDnaEject":X(e),se(),X(0);break;case"btnSpliceSource":V(e),X(0),R()}}(n(this).closest(".dna-slot").attr("data-id"),this.id,this)}))}(3),function(e){n("#spliceSlots").empty();for(var t=1;t<=e;t++){var a=n("<div></div>",{id:"spliceSlot"+t,"class":"dna-slot","data-id":t}).appendTo("#spliceSlots"),s=n("<div></div>",{"class":"noborder"}).appendTo(a);n("<div></div>",{id:"txtSpliceSeq"+t,"class":"text-field tf-long"}).appendTo(s),s=n("<div></div>",{"class":"noborder"}).appendTo(a)}n("#spliceSlots .button").click((function(){oe(this,J)}))}(3),N(),te(),ce(),ie()}))}(window,document,jQuery);